apiVersion: v1
kind: ConfigMap
metadata:
  name: mlflow-config
  namespace: default
  annotations:
    description: "ConfigMap for MLflow (Model Registry & Experiment Tracking) - public configuration"
data:
  # Server Configuration
  PORT: "5000"
  HOST: "0.0.0.0"
  
  # Backend Store Configuration (PostgreSQL)
  BACKEND_STORE_URI: "postgresql://deepiri:deepiripassword@postgres:5432/deepiri"
  
  # Artifact Store Configuration (MinIO/S3)
  DEFAULT_ARTIFACT_ROOT: "s3://mlflow-artifacts/"
  MLFLOW_S3_ENDPOINT_URL: "http://minio:9000"
  
  # S3/MinIO Configuration
  S3_BUCKET: "mlflow-artifacts"
  S3_ENDPOINT_URL: "http://minio:9000"
  # Note: AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY (MinIO credentials) should be set in secrets.yaml
  
  # ModelKit Integration
  MODELKIT_ENABLED: "true"
  MODELKIT_TRACKING_URI: "http://mlflow:5000"
  MLFLOW_TRACKING_URI: "http://mlflow:5000"

